<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ChatGPT Chat Parser</title>
    <style>
        /* Existing styles remain unchanged */
    </style>
</head>
<body>
    <header>
        <h1>ChatGPT Chat Parser</h1>
        <div class="file-controls">
            <input type="file" id="fileInput" accept=".txt">
            <button id="parseButton" disabled>Parse File</button>
        </div>
        <button id="chatColorsButton">Chat Colors</button>
        <div id="progress">Processing: <span id="progressValue">0</span>%</div>
    </header>
    <div class="output-container">
        <div class="output-box" id="chatgptOutput">
            <h2>ChatGPT Replies</h2>
        </div>
        <div class="output-box" id="userOutput">
            <h2>Your Replies</h2>
        </div>
    </div>

    <script>
        // Functionality to parse files (unchanged)

        document.getElementById('chatColorsButton').addEventListener('click', function() {
            const options = document.createElement('div');
            options.style.position = 'fixed';
            options.style.top = '50%';
            options.style.left = '50%';
            options.style.transform = 'translate(-50%, -50%)';
            options.style.background = '#1e1e1e';
            options.style.padding = '20px';
            options.style.border = '2px solid #00bcd4';
            options.style.borderRadius = '10px';
            options.style.zIndex = '1000';
            options.style.textAlign = 'center';

            const chatGPTButton = document.createElement('button');
            chatGPTButton.textContent = 'Change ChatGPT Text Color';
            chatGPTButton.style.margin = '10px';
            chatGPTButton.style.padding = '10px';
            chatGPTButton.style.cursor = 'pointer';

            const userButton = document.createElement('button');
            userButton.textContent = 'Change User Text Color';
            userButton.style.margin = '10px';
            userButton.style.padding = '10px';
            userButton.style.cursor = 'pointer';

            const closeButton = document.createElement('button');
            closeButton.textContent = 'Close';
            closeButton.style.margin = '10px';
            closeButton.style.padding = '10px';
            closeButton.style.cursor = 'pointer';
            closeButton.style.background = '#ff5252';

            options.appendChild(chatGPTButton);
            options.appendChild(userButton);
            options.appendChild(closeButton);
            document.body.appendChild(options);

            function openColorPicker(callback) {
                const colorPicker = document.createElement('input');
                colorPicker.type = 'color';
                colorPicker.style.display = 'none';
                document.body.appendChild(colorPicker);

                colorPicker.addEventListener('input', (e) => {
                    callback(e.target.value);
                });

                colorPicker.addEventListener('change', () => {
                    document.body.removeChild(colorPicker);
                });

                colorPicker.click();
            }

            chatGPTButton.addEventListener('click', () => {
                openColorPicker((color) => {
                    document.querySelectorAll('.chatgpt').forEach(el => el.style.color = color);
                });
            });

            userButton.addEventListener('click', () => {
                openColorPicker((color) => {
                    document.querySelectorAll('.user').forEach(el => el.style.color = color);
                });
            });

            closeButton.addEventListener('click', () => {
                document.body.removeChild(options);
            });
        });
    </script>
</body>
</html>
